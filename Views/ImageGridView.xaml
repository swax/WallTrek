<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="WallTrek.Views.ImageGridView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WallTrek.Views">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="20,20,20,10" Spacing="10">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="BackButton" Content="← Back" Click="BackButton_Click" Margin="0,0,20,0"/>
                <TextBlock Text="Image Grid" FontSize="24" FontWeight="SemiBold" VerticalAlignment="Center"/>
            </StackPanel>

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Left side: Filters -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="15">
                    <CheckBox x:Name="FavoritesOnlyCheckBox"
                              Content="Favorites Only"
                              Checked="FilterCheckBox_Changed"
                              Unchecked="FilterCheckBox_Changed"/>
                    <CheckBox x:Name="NotUploadedOnlyCheckBox"
                              Content="Not Uploaded"
                              Checked="FilterCheckBox_Changed"
                              Unchecked="FilterCheckBox_Changed"/>
                </StackPanel>

                <!-- Right side: Count -->
                <TextBlock Grid.Column="1"
                           x:Name="ImageCountTextBlock"
                           Text="0/0 Images"
                           VerticalAlignment="Center"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Right"/>
            </Grid>
        </StackPanel>

        <ScrollViewer Grid.Row="1" Margin="20,0,20,20" HorizontalScrollBarVisibility="Disabled">
            <StackPanel HorizontalAlignment="Center">
                <GridView x:Name="ImagesGrid"
                          SelectionMode="None"
                          IsItemClickEnabled="False"
                          HorizontalAlignment="Center">
                    <GridView.ItemTemplate>
                        <DataTemplate x:DataType="local:ImageGridItemViewModel">
                            <Grid Width="200" Height="200" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                  CornerRadius="8" Margin="4">
                                <Image Source="{x:Bind ThumbnailImage, Mode=OneWay}"
                                       Stretch="UniformToFill"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                            </Grid>
                        </DataTemplate>
                    </GridView.ItemTemplate>
                </GridView>

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Spacing="10"
                            Margin="0,20,0,0">
                    <Button x:Name="LoadMoreButton"
                            Content="Load Next 100"
                            Click="LoadMoreButton_Click"
                            Visibility="Collapsed"
                            MinWidth="150"/>
                    <Button x:Name="LoadAllButton"
                            Content="Load All"
                            Click="LoadAllButton_Click"
                            Visibility="Collapsed"
                            MinWidth="150"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
