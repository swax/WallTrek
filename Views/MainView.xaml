<!-- MainView.xaml -->
<UserControl
    x:Class="WallTrek.Views.MainView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WallTrek.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="WallTrek" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center"/>
            <TextBlock Text="AI Wallpaper Generator" FontSize="14" Foreground="Gray" HorizontalAlignment="Center" Margin="0,5,0,0"/>
        </StackPanel>
        
        <!-- Prompt Input -->
        <StackPanel Grid.Row="1" Spacing="10" Margin="0,0,0,20">
            <StackPanel Orientation="Horizontal" Spacing="10">
                <TextBlock Text="Describe your wallpaper:" FontWeight="SemiBold" VerticalAlignment="Center"/>
                <Button x:Name="RandomPromptButton" 
                        Content="Random Prompt" 
                        Click="RandomPromptButton_Click"
                        FontSize="12"
                        Padding="8,4"/>
                <TextBlock Text="LLM:" FontWeight="SemiBold" VerticalAlignment="Center" Margin="20,0,0,0"/>
                <ComboBox x:Name="LlmSelectionComboBox"
                          SelectionChanged="LlmSelectionComboBox_SelectionChanged"
                          MinWidth="150">
                    <ComboBoxItem Content="OpenAI GPT-5" Tag="gpt-5"/>
                    <ComboBoxItem Content="OpenAI GPT-4o" Tag="gpt-4o"/>
                    <ComboBoxItem Content="OpenAI o3" Tag="o3"/>
                    <ComboBoxItem Content="Claude Opus 4.1" Tag="claude-opus-4-1"/>
                    <ComboBoxItem Content="Claude Sonnet 4.5" Tag="claude-sonnet-4-5-20250929"/>
                    <ComboBoxItem Content="Claude Haiku 4.5" Tag="claude-haiku-4-5-20251001"/>
                </ComboBox>
                <TextBlock Text="Image Model:" FontWeight="SemiBold" VerticalAlignment="Center" Margin="20,0,0,0"/>
                <ComboBox x:Name="ImageModelSelectionComboBox"
                          SelectionChanged="ImageModelSelectionComboBox_SelectionChanged"
                          MinWidth="150">
                    <ComboBoxItem Content="OpenAI DALL-E 3" Tag="dalle-3"/>
                    <ComboBoxItem Content="Google Imagen 4.0" Tag="imagen-4.0-generate-001"/>
                    <ComboBoxItem Content="Google Imagen 4.0 Ultra" Tag="imagen-4.0-ultra-generate-001"/>
                </ComboBox>
            </StackPanel>
            <TextBox x:Name="PromptTextBox"
                     PlaceholderText="Enter a description for your AI-generated wallpaper..."
                     Height="120"
                     TextWrapping="Wrap"
                     AcceptsReturn="True"
                     KeyDown="PromptTextBox_KeyDown"
                     TextChanged="PromptTextBox_TextChanged"/>
            
            <ItemsControl x:Name="PropertiesBadgesControl" Margin="0,0,0,8">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="6"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="{ThemeResource SystemFillColorNeutralBrush}"
                                CornerRadius="4"
                                Padding="8,3">
                            <TextBlock Text="{Binding}"
                                      FontSize="11"
                                      Foreground="{ThemeResource TextOnAccentFillColorPrimaryBrush}"/>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
        
        <!-- Progress Bar -->
        <ProgressBar x:Name="GenerationProgressBar" 
                     Grid.Row="2" 
                     IsIndeterminate="True" 
                     Visibility="Collapsed"
                     Height="6"
                     VerticalAlignment="Top"
                     Margin="0,10"/>
        
        <!-- Action Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center" Margin="0,20,0,10">
            <Button x:Name="GenerateButton" 
                    Content="Generate Wallpaper" 
                    Click="GenerateButton_Click" 
                    Style="{StaticResource AccentButtonStyle}"
                    MinWidth="140"/>
            <Button x:Name="CancelButton" 
                    Content="Cancel" 
                    Click="CancelButton_Click" 
                    Visibility="Collapsed"
                    MinWidth="100"
                    Background="Red"
                    Foreground="White"/>
            <Button x:Name="ImageGridButton"
                    Content="Image Grid"
                    Click="ImageGridButton_Click"
                    MinWidth="100"/>
            <Button x:Name="OpenFolderButton"
                    Content="Open Image Folder"
                    Click="OpenFolderButton_Click"
                    MinWidth="100"/>
            <Button x:Name="SettingsButton" 
                    Content="Settings" 
                    Click="SettingsButton_Click"
                    MinWidth="100"/>
        </StackPanel>
        
        <!-- Status Text -->
        <TextBlock x:Name="StatusTextBlock" 
                   Grid.Row="4" 
                   Text="Ready to generate wallpaper"
                   HorizontalAlignment="Center"
                   Foreground="Gray"
                   Margin="0,10,0,0"/>
        
        <!-- Auto-Generate Info -->
        <TextBlock x:Name="NextGenerateTextBlock" 
                   Grid.Row="5" 
                   Text="" 
                   HorizontalAlignment="Center"
                   Foreground="Gray"
                   FontSize="12"
                   Margin="0,5,0,0"/>
    </Grid>
</UserControl>